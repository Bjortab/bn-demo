:root{
  --primary:#FF5A8A; --accent:#8A5AFF; --text:#e6e8ee; --muted:#a7afbd;
  --bg:#0f1117; --panel:#151823; --border:#262b36;
}

*{box-sizing:border-box} html,body{height:100%}
body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background:radial-gradient(1200px 800px at 10% -10%, #1b2233 0%, var(--bg) 55%);
  color:var(--text); padding-bottom:80px}

/* Header */
.top{position:sticky;top:0;z-index:30;backdrop-filter:blur(6px);padding:env(safe-area-inset-top) 12px 10px}
.top .row{display:flex;align-items:center;justify-content:space-between;gap:10px}
.logo{font-weight:800} .right{display:flex;gap:8px}
.ghost{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.18);color:#fff;padding:8px 12px;border-radius:10px}
.sm{padding:6px 10px;font-size:14px}
.onboarding{display:grid;grid-template-columns:1fr auto;gap:10px;margin-top:10px}
.levels{display:inline-flex;gap:8px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);padding:6px;border-radius:999px}
.levels.small{padding:4px}
.lvl{background:transparent;color:#fff;border:1px solid rgba(255,255,255,.18);border-radius:999px;padding:8px 10px;cursor:pointer}
.lvl[aria-pressed="true"],.lvl.active{background:#fff;color:#0f1117;border-color:#fff}
.voicepick{display:flex;gap:8px;align-items:center;min-width:220px}
select{background:rgba(255,255,255,.08);color:#fff;border:1px solid rgba(255,255,255,.18);border-radius:10px;padding:8px 10px}

/* Player */
.player{margin:10px auto;max-width:900px}
.card{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:16px;box-shadow:0 8px 30px rgba(0,0,0,.25)}
.controls{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center}
#btnPlay{background:linear-gradient(90deg,var(--primary),var(--accent));color:#fff;border:0;border-radius:12px;padding:10px 14px;font-weight:700}
#seek,#rate{width:100%}
.skip{display:flex;gap:6px}

/* Chips & content */
.filters .chips{display:flex;gap:8px;flex-wrap:wrap;padding:8px 12px}
.chip{background:rgba(255,255,255,.08);color:#fff;border:1px solid rgba(255,255,255,.18);padding:8px 10px;border-radius:999px;cursor:pointer}
.chip.active{background:#fff;color:#0f1117;border-color:#fff}
.container{max-width:1100px;margin:0 auto;padding:0 12px 20px}
h2{margin:16px 0 8px}.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
.muted{color:var(--muted)} .actions{display:flex;gap:8px;margin-top:10px}
.actions .save{background:linear-gradient(90deg,var(--primary),var(--accent));color:#fff;border:0;padding:8px 12px;border-radius:10px;font-weight:700}
.actions .open{border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.08);color:#fff;padding:8px 12px;border-radius:10px}

/* Bottom nav */
.bottom{position:fixed;left:0;right:0;bottom:0;height:64px;z-index:40;padding:8px calc(8px + env(safe-area-inset-right)) calc(8px + env(safe-area-inset-bottom)) calc(8px + env(safe-area-inset-left));backdrop-filter:blur(6px);background:rgba(15,17,23,.6);border-top:1px solid var(--border);display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.bottom button{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.18);color:#fff;border-radius:10px;padding:8px 6px;font-size:13px}
.bottom button.active{background:#fff;color:#0f1117;border-color:#fff}

/* Connect */
#connect{position:fixed;inset:0;pointer-events:none;opacity:0;transition:opacity .25s ease}
#connect.active{pointer-events:auto;opacity:1}
.sheet{position:absolute;bottom:0;left:0;right:0;height:85vh;background:#0f1117;border-top:1px solid var(--border);border-radius:16px 16px 0 0;transform:translateY(12px);transition:transform .25s ease;display:flex;flex-direction:column}
#connect.active .sheet{transform:translateY(0)}
.sheet-head{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--border)}
.sheet-body{padding:12px 16px;display:grid;gap:12px;overflow:auto}
.pref{display:grid;gap:8px}.pref.two{grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:8px}
.people{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px}
.person{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:12px;display:grid;gap:6px}
.p-top{display:flex;justify-content:space-between;align-items:center}
.p-badge{font-size:12px;background:#fff;color:#0f1117;padding:2px 8px;border-radius:999px}

/* Create */
.create-row{display:grid;grid-template-columns:1fr auto;gap:10px}
textarea{width:100%;border-radius:12px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.06);color:#fff;padding:10px}
.btn{background:linear-gradient(90deg,var(--primary),var(--accent));color:#fff;border:0;padding:10px 14px;border-radius:12px;font-weight:700}

/* Dialog & helpers */
dialog{border:none;border-radius:16px;padding:0;max-width:720px;width:95vw}
dialog::backdrop{background:rgba(0,0,0,.35);backdrop-filter:blur(2px)}
.status{color:#22c55e;font-size:12px;margin-left:8px}
.sr{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.small{font-size:12px}
